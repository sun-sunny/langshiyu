function fillHeader(){var e='<header class="container"><img src="../img/logo.png" class="logo" alt=""><i class="iconfont icon-navbar navbar fr"></i></header>';$("body").prepend(e),$(document).on("click",".navbar",function(){if(0!==$(".navmain").length)$(".navmain").fadeToggle(500);else{var e='<ul class="navmain container-vertical container"><li data-page="index">首页</li> <li data-page="project">在线订房</li><li data-page="series">产品系列</li><li data-page="community">社区生活</li><li data-page="about">关于朗诗寓</li><li data-page="personalcenter">个人中心</li></ul>';if($("body").prepend(e),$("body").data("page")){var t=$("body").data("page");$(".navmain li[data-page='"+t+"']").addClass("cur").siblings().removeClass("cur")}}}),$("section").css("cursor","pointer"),$("section").off("click touchmove").on("click touchmove",function(){"block"===$(".navmain").css("display")&&$(".navmain").css("display","none")}),$(document).on("click",".navmain li",function(){switch($(this).addClass("cur").siblings().removeClass("cur"),$(".navbar").trigger("click"),$(this).data("page")){case"index":setTimeout(function(){window.location.href="index.html"},500);break;case"project":setTimeout(function(){window.location.href="project.html"},500);break;case"series":setTimeout(function(){window.location.href="series.html"},500);break;case"community":setTimeout(function(){window.location.href="community.html"},500);break;case"about":setTimeout(function(){window.location.href="about.html"},500);break;case"login":setTimeout(function(){window.location.href="sign_in.html"},500);break;case"registe":setTimeout(function(){window.location.href="sign_up.html"},500);break;case"personalcenter":var e=_cookie.getCookie("us"),t=_cookie.getCookie("pwd");e&&t&&e.length>0&&t.length>0?window.location.href="personalcenter.html?code=":setTimeout(function(){window.location.href="sign_in.html"},500);break;default:setTimeout(function(){window.location.href="index.html"},500)}})}function fixtop(){var e=50*($("header").length+$(".fix-top").length),t=$(".fix-top").length;$("#main").css("paddingTop",e);for(var o=0;t>o;o++)0!==$("header").length?$(".fix-top").eq(o-1).css("marginTop",50*(o+1)+"px"):$(".fix-top").eq(o-1).css("marginTop",50*o+"px")}function fixbottom(){if($(".fix-bottom").length>0){var e=1*$(".fix-bottom").outerHeight()+25+"px";$("#main").css("paddingBottom",e)}}function tip(e,t,o,n){e||(e="info"),t||(t="没有提示文本"),n||(n=function(){}),o&&"auto"!=o||(o=2e3*t.length/10,1500>o&&(o=1500));$(".tip:not(.tip-aways)").remove();var r="";switch(r+="tip-aways"==o?'<section class="tip tip-aways tip-'+e+' class="row">':'<section class="tip tip-'+e+' class="row">',e){case"info":r+='<i class="iconfont icon-info"></i>';break;case"success":r+='<i class="iconfont icon-success-fill"></i>';break;case"warning":r+='<i class="iconfont icon-warning-fill"></i>';break;case"error":r+='<i class="iconfont icon-error-fill"></i>';break;case"fullscreen":r+="",t='<image src="'+t+'"></image>'}r+='<div class="content"><p>'+t+'</p></div></section><span class="mask"></span>',$("body").prepend(r),o&&"aways"!==o&&setTimeout(function(){$(".tip:not(.tip-aways)").remove(),$(".mask").remove(),n()},o),$(document).on("click",".tip,.mask",function(){$(".tip").remove(),$(".mask").remove(),n()})}function login(){var e=_cookie.getCookie("us"),t=_cookie.getCookie("pwd");if(o&&t&&e.length>0&&t.length>0){var o=$.trim($("#phone").val()),t=$.trim($("#password").val()),n={username:o,password:t,grant_type:"password",scope:"read+write",client_secret:"mySecretOAuthSecret",client_id:"authserverapp"},r=urlSearch();$.ajax({type:"post",url:r+"/system/oauth/token",data:n,contentType:"application/x-www-form-urlencoded",dataType:"json",async:!1,success:function(e){window.localStorage.token=e.token_type+" "+e.access_token,window.localStorage.userId=e.user_id,window.localStorage.userPhone=o}})}}var browser={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,qq:e.indexOf("QQ")>-1,wechat:e.indexOf("MicroMessenger")>-1,webApp:-1==e.indexOf("Safari"),lemonIos:e.indexOf("ios_lemonvc")>-1,aa:e.indexOf("dasdasdaasda")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},__url=function(e){return e.getUrlParams=function(){var e=window.location.search,t=e.substr(1,e.length).split("&"),o=new Array;if(null!=t)for(var n=0;n<t.length;n++){var r=/[=|^==]/,a=t[n].replace(r,"&"),i=a.split("&"),s=new Array;s[i[0]]=i[1],o.push(s)}return o},e.getUrlParam=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t);return null!=o?decodeURIComponent(o[2]):null},e.getParamValue=function(e,t){var o=__url.getUrlParams();if(null!=o)for(var n=0;n<o.length;n++)for(var r in o[n])if(r==e)return 0==t?o[n][r]:decodeURIComponent(o[n][r]);return null},e.domain=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),o=t.exec(e);return o?o[1]:e},e.locationUrl=function(){var e=location.hostname,t="";return t="localhost"==e?"http://landsea-beta.shlogic.com.cn/":"m.demo.langshiyu.com"==e?"http://101.37.127.101":location.origin+"/"},e}(window.__url||{});!function(){localStorage.theme="mobiscroll",localStorage.showTopbar="","-1"==__url.getParamValue("showTopbar")||"-1"==sessionStorage.showTopbar?sessionStorage.showTopbar="-1":fillHeader(),fixtop(),fixbottom()}();var _cookie=function(e){return e.getsec=function(e){var t=1*e.substring(1,e.length),o=e.substring(0,1);return"s"==o?1e3*t:"h"==o?60*t*60*1e3:"d"==o?24*t*60*60*1e3:void 0},e.setCookie=function(t,o,n){var r=e.getsec(n),a=new Date;a.setTime(a.getTime()+1*r),document.cookie=t+"="+decodeURIComponent(o)+";expires="+a.toGMTString()},e.getCookie=function(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?encodeURIComponent(t[2]):null},e.delCookie=function(t){var o=new Date;o.setTime(o.getTime()-1);var n=e.getCookie(t);null!=n&&(document.cookie=t+"="+n+";expires="+o.toGMTString())},e}(window._cookie||{}),__validate=function(e){return e.isURL=function(e){return!!e.match(/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g)},e.isPhoneOrEmail=function(e,t){var o=$.trim(e.val());return"required"==e.attr("required")&&(t="required"),""==o?"required"==t?(e.focus(),new $.flavr({content:"手机号或邮箱不能为空!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0:o.match(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/)||/^((\+?86)|(\(\+86\)))?1\d{10}$/.test(o)?!0:(e.focus(),new $.flavr({content:"手机号或邮箱格式错误!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1)},e.isPhone=function(e,t){var o=$.trim(e.val());return"required"==e.attr("required")&&(t="required"),""==o?"required"==t?(e.focus(),new $.flavr({content:"手机号不能为空!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0:/^((\+?86)|(\(\+86\)))?1\d{10}$/.test(o)?!0:(e.focus(),$("body,html").animate({scrollTop:0},100),new $.flavr({content:"手机号格式错误!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1)},e.isEmail=function(e,t){var o=$.trim(e.val());return"required"==e.attr("required")&&(t="required"),""==o?"required"==t?(e.focus(),new $.flavr({content:"邮箱不能为空!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0:o.match(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/)?!0:(e.focus(),new $.flavr({content:"邮箱格式错误!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1)},e.isVcode=function(e,t){var o=$.trim(e.val());return"required"==e.attr("required")&&(t="required"),""==o?"required"==t?(e.focus(),new $.flavr({content:"请输入正确的验证码!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0:o.length<6?(e.focus(),new $.flavr({content:"验证码错误！",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0},e.isPassword=function(e,t){var o=$.trim(e.val());return"required"==e.attr("required")&&(t="required"),""==o?"required"==t?(e.focus(),new $.flavr({content:"密码不能为空!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0:o.length<6?(e.focus(),new $.flavr({content:"密码长度不能小于6位!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0},e.isPassword2=function(e,t){var o=$.trim(e.val());return"required"==e.attr("required")&&(t="required"),""==o?"required"==t?(e.focus(),new $.flavr({content:"请输入确认密码!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0:o.length<6?(e.focus(),new $.flavr({content:"密码长度不能小于6位!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0},e.isNull=function(e){var t=$.trim(e.val());return _required="required",""==t&&"required"==_required?(e.focus(),new $.flavr({content:e.attr("placeholder")+",不能为空!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0},e.isName=function(e,t){var o=$.trim(e.val());if("required"==e.attr("required")&&(t="required"),""==o)return"required"==t?(e.focus(),new $.flavr({content:"姓名不能为空!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):!0;var n="^[a-zA-Z一-龥]+$",r=new RegExp(n);return-1!=o.search(r)?!0:(new $.flavr({content:"姓名只能为汉字或者英文!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1)},e.isReaded=function(e){return e.hasClass("readed")?!0:(new $.flavr({content:"您没有同意协议条款。",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1)},e.isPasswordSame=function(e,t){return e=$.trim(e),t=$.trim(t),e&&t?e==t?!0:(new $.flavr({content:"输入密码不一致!",autoclose:!0,buttons:{close:{text:"确定"}},timeout:5e3}),!1):void 0},e}(window.__validate||{}),__times=function(e){return e.formatDate=function(e,t){var e=new Date(1e3*e),o=e.getFullYear(),n=e.getMonth()+1;n=10>n?"0"+n:n;var r=e.getDate();r=10>r?"0"+r:r;var a=e.getHours();a=10>a?"0"+a:a;var i=e.getMinutes();i=10>i?"0"+i:i;var s=e.getSeconds();if(s=10>s?"0"+s:s,t.indexOf("/")>0)var c="/";else if(t.indexOf("-")>0)var c="-";else if(t.indexOf(".")>0)var c=".";else var c=" ";switch(t){case"mm"+c+"dd":return n+c+r;case"mm"+c+"dd hh:mm":return n+c+r+"   "+a+":"+i;case"mm"+c+"dd hh:mm:ss":return n+c+r+"   "+a+":"+i+":"+s;case"yy"+c+"mm"+c+"dd":return o+c+n+c+r;case"yy"+c+"mm"+c+"dd hh:mm":return o+c+n+c+r+"   "+a+":"+i;case"yy"+c+"mm"+c+"dd hh:mm:ss":return o+c+n+c+r+"   "+a+":"+i+":"+s;default:return o+c+n+c+r+"   "+a+":"+i+":"+s}},e.formatTime=function(e,t){return e=""==e||"2556115199"==e||"0"==e?"":__times.formatDate(e,t)},e.timestamp=function(e){var t=e.split(" ",2),o=(t[0]?t[0]:"").split("-",3),n=(t[1]?t[1]:"").split(":",3);return e=new Date(parseInt(o[0],10)||null,(parseInt(o[1],10)||1)-1,parseInt(o[2],10)||null,parseInt(n[0],10)||null,parseInt(n[1],10)||null,parseInt(n[2],10)||null).getTime()/1e3},e}(window.__times||{}),__form=function(e){return e.getRegexEditorValue=function(e){return e=e.replace(/(\n)/g,""),e=e.replace(/(\t)/g,""),e=e.replace(/(\r)/g,""),e=e.replace(/<\/?[^>]*>/g,""),e=e.replace(/\s*/g,"")},e.countCode=function(e){var t=61,o=setInterval(function(){t>1?(t-=1,e.html("重新发送<br>("+t+")"),e.attr("disabled","disabled")):(e.html("获取<br>验证码"),e.removeAttr("disabled","disabled"),clearInterval(o))},1e3)},e.countCodeSignUp=function(e){var t=61,o=setInterval(function(){t>1?(t-=1,e.html("重新发送"+t+"s"),e.attr("disabled","disabled"),e.css("color","#dcdcdc")):(e.html("获取验证码"),e.css("color","#000"),e.removeAttr("disabled","disabled"),clearInterval(o))},1e3)},e}(window.__form||{});